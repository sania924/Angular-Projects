<!-- resuseable components -->
<app-header />
<app-alert></app-alert>
<div class="mt-2 p-2 bg-sucess text-white rounded">
  <h4>Post Api</h4>
  <h3>Create Department , Department List</h3>
</div>
<div class="row pt-3">
  <div class="col-8">
    <div class="card">
      <div class="card-header bg-secondary text-white">Department List</div>
      <div class="card-body">
        <div class="row">
          <div class="col-12">
            <table class="table table-bordered">
              <thead>
                <tr>
                  <th>SR NO</th>
                  <th>Department Name</th>
                  <th>Department Logo</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody>
                @for (item of deptList ; track $index) {
                <tr>
                  <td>{{ $index + 1 }}</td>
                  <td>{{ item.departmentName }}</td>
                  <td>{{ item.departmentLogo }}</td>
                  <td>
                    <button class="btn btn-primary" (click)="onEdit(item)">
                      Edit
                    </button>
                  </td>
                  <td>
                    <button
                      class="btn btn-danger"
                      (click)="onDelete(item.departmentId)"
                    >
                      Delete
                    </button>
                  </td>
                </tr>
                }
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-4">
    <div class="card">
      <div class="card-header bg-secondary text-white">New Department</div>
      <div class="card-body">
        <div class="row">
          <div class="col-12">
            <label for="">Department Name</label>
            <!-- step2 -->
            <input
              type="text"
              name=""
              id=""
              class="form-control"
              [(ngModel)]="deptObj.departmentName"
              placeholder="Enter name"
            />
          </div>
          <div class="col-12">
            <label for="">Department Logo</label>
            <input
              type="text"
              name=""
              id=""
              class="form-control"
              [(ngModel)]="deptObj.departmentLogo"
              placeholder="Enter logo url"
            />
          </div>
        </div>
        <div class="row pt-3">
          <div class="col-6 text-center">
            <button class="btn btn-secondary" (click)="resetForm()">
              Reset
            </button>
          </div>
          <div class="col-6 text-center">
            @if(deptObj.departmentId==0){
            <button class="btn btn-success" (click)="onSave()">Save</button>
            } @else {
            <button class="btn btn-warning" (click)="onUpdate()">Update</button>

            }
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
